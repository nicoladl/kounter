{"version":3,"sources":["components/AddMealForm.js","components/MealList.js","components/Profile.js","components/App.js","utils.js","components/PersonPicker.js","router/Router.js","index.js"],"names":["AddMealForm","mealFromInput","React","createRef","kcalFromInput","addToList","e","preventDefault","meal","name","current","value","kcal","parseInt","food","props","state","push","total","reduce","sum","item","currentTarget","reset","onSubmit","this","type","ref","Component","MealList","map","index","key","Profile","profile","to","pathname","Object","keys","visibleOnProfile","basalMetabolism","App","setState","localStorageRef","localStorage","getItem","match","params","JSON","parse","checkStatus","slugify","string","a","p","RegExp","split","join","toString","toLowerCase","replace","c","charAt","indexOf","basalMetabolismCalculation","weight","height","age","gender","NamePicker","nameFromInput","weightFromInput","genderFromInput","ageFromInput","heightFromInput","calculateBasalMetabolism","slug","setItem","stringify","history","defaultValue","location","Router","path","exact","component","PersonPicker","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f36f1cb4.chunk.js","sourcesContent":["import React from \"react\";\n\nclass AddMealForm extends React.Component {\n  mealFromInput = React.createRef();\n  kcalFromInput = React.createRef();\n\n  addToList = e => {\n    // stop preventing form\n    e.preventDefault();\n    // add to state\n    const meal = {\n      name: this.mealFromInput.current.value,\n      kcal: parseInt(this.kcalFromInput.current.value)\n    };\n\n    // copy state\n    const food = [...this.props.state.food];\n    // add item to list\n    food.push(meal);\n    // calc total kcal\n    const total = food.reduce((sum, item) => {\n      return sum + item.kcal;\n    }, 0);\n    // update state\n    this.props.addToList(food, total);\n    // refresh the form\n    e.currentTarget.reset();\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.addToList}>\n        nome <input name=\"meal\" type=\"text\" ref={this.mealFromInput} />\n        <br />\n        kcal <input name=\"kcal\" type=\"number\" ref={this.kcalFromInput} />\n        <br />\n        <button>add</button>\n      </form>\n    );\n  }\n}\n\nexport default AddMealForm;\n","import React from \"react\";\n\nclass MealList extends React.Component {\n  render() {\n    return (\n      <ul>\n        {this.props.meal.map((value, index) => {\n          return (\n            <li key={index}>\n              {value.name} {value.kcal}Kcal\n            </li>\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nexport default MealList;\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AddMealForm from \"./AddMealForm\";\nimport MealList from \"./MealList\";\n\nclass Profile extends React.Component {\n  render() {\n    if (this.props.profile.name) {\n      return (\n        <Fragment>\n          <h1>Hi {this.props.profile.name.value}</h1>\n          <Link to={{ pathname: \"/\", name: this.props.profile.name.value }}>\n            edit profile\n          </Link>\n          <ul>\n            {Object.keys(this.props.profile).map(key => {\n              if (this.props.profile[key].visibleOnProfile) {\n                return (\n                  <li key={key}>\n                    {key}: {this.props.profile[key].value}\n                  </li>\n                );\n              }\n            })}\n          </ul>\n\n          <AddMealForm\n            addToList={this.props.addToList}\n            state={this.props.state}\n          />\n          <MealList meal={this.props.state.food} />\n\n          {this.props.state.total ? (\n            <div>\n              <p>Total in: {this.props.state.total}kcal</p>\n              <p>\n                Total amount of calories:{\" \"}\n                <strong>\n                  {this.props.state.total -\n                    this.props.profile.basalMetabolism.value}\n                  Kcal{\" \"}\n                  {this.props.state.total -\n                    this.props.profile.basalMetabolism.value >\n                  0 ? (\n                    <span>&#128533;</span>\n                  ) : (\n                    <span>&#128515;</span>\n                  )}\n                </strong>\n              </p>\n            </div>\n          ) : null}\n        </Fragment>\n      );\n    }\n    return <p>loading...</p>;\n  }\n}\n\nexport default Profile;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Profile from \"./Profile\";\n\nclass App extends React.Component {\n  state = {\n    profile: {},\n    food: []\n  };\n\n  componentDidMount() {\n    const localStorageRef = localStorage.getItem(this.props.match.params.name);\n    this.setState({ profile: JSON.parse(localStorageRef) });\n  }\n\n  checkStatus() {\n    const localStorageRef = localStorage.getItem(this.props.match.params.name);\n    let showProfile = true;\n    // if localStora exist show Profile else show BackToPicker\n    localStorageRef ? (showProfile = true) : (showProfile = false);\n    return showProfile;\n  }\n\n  addToList = (food, total) => {\n    // update state\n    this.setState({ food, total });\n  };\n\n  render() {\n    if (this.checkStatus()) {\n      return (\n        <Profile\n          profile={this.state.profile}\n          state={this.state}\n          addToList={this.addToList}\n          total={this.total}\n        />\n      );\n    }\n    return <Link to=\"/\">back to data</Link>;\n  }\n}\n\nexport default App;\n","export const slugify = string => {\n  const a =\n    \"àáäâãåăæąçćčđďèéěėëêęğǵḧìíïîįłḿǹńňñòóöôœøṕŕřßşśšșťțùúüûǘůűūųẃẍÿýźžż·/_,:;\";\n  const b =\n    \"aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------\";\n  const p = new RegExp(a.split(\"\").join(\"|\"), \"g\");\n\n  return (\n    string\n      .toString()\n      .toLowerCase()\n      .replace(/\\s+/g, \"-\") // Replace spaces with -\n      .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters\n      .replace(/&/g, \"-and-\") // Replace & with 'and'\n      // eslint-disable-next-line\n      .replace(/[^\\w\\-]+/g, \"\") // Remove all non-word characters\n      // eslint-disable-next-line\n      .replace(/\\-\\-+/g, \"-\") // Replace multiple - with single -\n      .replace(/^-+/, \"\") // Trim - from start of text\n      .replace(/-+$/, \"\")\n  ); // Trim - from end of text\n};\n\nexport const basalMetabolismCalculation = ({ weight, height, age, gender }) => {\n  let basalMetabolism = 0;\n  switch (gender.value) {\n    case \"male\": {\n      basalMetabolism =\n        66 + 13.7 * weight.value + 5 * height.value - 6.8 * age.value;\n      break;\n    }\n\n    case \"female\": {\n      basalMetabolism =\n        665 + 9.6 * weight.value + 1.9 * height.value - 4.7 * age.value;\n      break;\n    }\n\n    default:\n      break;\n  }\n\n  return parseInt(basalMetabolism);\n};\n","import React from \"react\";\nimport { slugify, basalMetabolismCalculation } from \"../utils\";\n\nclass NamePicker extends React.Component {\n  nameFromInput = React.createRef();\n  weightFromInput = React.createRef();\n  genderFromInput = React.createRef();\n  ageFromInput = React.createRef();\n  heightFromInput = React.createRef();\n\n  calculateBasalMetabolism = e => {\n    // block event\n    e.preventDefault();\n    // get input value and store into object\n    const profile = {\n      name: {\n        value: this.nameFromInput.current.value,\n        visibleOnProfile: false\n      },\n      slug: {\n        value: slugify(this.nameFromInput.current.value),\n        visibleOnProfile: false\n      },\n      weight: {\n        value: this.weightFromInput.current.value,\n        visibleOnProfile: true\n      },\n      gender: {\n        value: this.genderFromInput.current.value,\n        visibleOnProfile: true\n      },\n      age: {\n        value: this.ageFromInput.current.value,\n        visibleOnProfile: true\n      },\n      height: {\n        value: this.heightFromInput.current.value,\n        visibleOnProfile: true\n      },\n      basalMetabolism: {\n        value: 0,\n        visibleOnProfile: true\n      }\n    };\n\n    // calculate basal metabolism and update profile obj\n    profile.basalMetabolism.value = basalMetabolismCalculation(profile); // calculation\n\n    // save or update to LocalStorage\n    localStorage.setItem(profile.slug.value, JSON.stringify(profile));\n\n    // go to new route with params profile obj\n    this.props.history.push({\n      pathname: `/counter/${profile.slug.value}`,\n      profile\n    });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.calculateBasalMetabolism}>\n        <label>\n          Name:\n          <input\n            type=\"text\"\n            name=\"name\"\n            ref={this.nameFromInput}\n            defaultValue={this.props.location.name}\n          />\n        </label>\n        <label>\n          Weight:\n          <input type=\"text\" name=\"weight\" ref={this.weightFromInput} />\n        </label>\n        <label>\n          Name:\n          <select ref={this.genderFromInput}>\n            <option value=\"male\">male</option>\n            <option value=\"female\">female</option>\n          </select>\n        </label>\n        <label>\n          age:\n          <input type=\"text\" name=\"age\" ref={this.ageFromInput} />\n        </label>\n\n        <label>\n          height:\n          <input type=\"number\" name=\"height\" ref={this.heightFromInput} />\n        </label>\n\n        <button type=\"submit\">Calculate</button>\n      </form>\n    );\n  }\n}\n\nexport default NamePicker;\n","import React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\n\nimport App from \"../components/App\";\nimport PersonPicker from \"../components/PersonPicker\";\n\nconst Router = () => (\n  <HashRouter>\n    <Switch>\n      <Route path=\"/\" exact component={PersonPicker}></Route>\n      <Route path=\"/counter/:name\" component={App}></Route>\n    </Switch>\n  </HashRouter>\n);\n\nexport default Router;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Router from \"./router/Router\";\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}