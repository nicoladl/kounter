(window.webpackJsonpkounter=window.webpackJsonpkounter||[]).push([[0],{31:function(e,t,a){e.exports=a(52)},52:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(24),o=a.n(l),u=a(14),c=a(13),i=a(5),m=a(6),p=a(8),s=a(7),h=a(9),f=a(25),b=a.n(f),v=a(26),g=a.n(v).a.initializeApp({apiKey:"AIzaSyBA8Gwx7omYnoSCZujw-35mQPy0PANM51M",authDomain:"kounter-92315.firebaseapp.com",databaseURL:"https://kounter-92315.firebaseio.com"}),d=b.a.createClass(g.database()),E=a(30),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).mealFromInput=r.a.createRef(),a.kcalFromInput=r.a.createRef(),a.addToList=function(e){e.preventDefault();var t={name:a.mealFromInput.current.value,kcal:parseInt(a.kcalFromInput.current.value)},n=Object(E.a)(a.props.state.food);n.push(t);var r=n.reduce((function(e,t){return e+t.kcal}),0);a.props.addToList(n,r),e.currentTarget.reset()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.addToList},"nome ",r.a.createElement("input",{name:"meal",type:"text",ref:this.mealFromInput}),r.a.createElement("br",null),"kcal ",r.a.createElement("input",{name:"kcal",type:"number",ref:this.kcalFromInput}),r.a.createElement("br",null),r.a.createElement("button",null,"add"))}}]),t}(r.a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",null,this.props.meal.map((function(e,t){return r.a.createElement("li",{key:t},e.name," ",e.kcal,"Kcal")})))}}]),t}(r.a.Component),y=function(){return r.a.createElement("span",{role:"img","aria-label":"happy"},"\ud83d\ude0a")},j=function(){return r.a.createElement("span",{role:"img","aria-label":"Sad"},"\ud83d\ude15")},F=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("p",null,"Total in: ",this.props.total,"kcal"),r.a.createElement("p",null,"Total amount of calories:"," ",r.a.createElement("strong",null,this.props.deltaKcal,"Kcal ",this.props.deltaKcal>0?r.a.createElement(j,null):r.a.createElement(y,null))))}}]),t}(r.a.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.profile;return t.name?r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"Hi ",t.name.value),r.a.createElement(u.b,{to:{pathname:"/",profile:t}},"edit profile"),r.a.createElement("ul",null,Object.keys(t).map((function(e){if(t[e].visibleOnProfile)return r.a.createElement("li",{key:e},e,": ",t[e].value," ","weight"===e?"kg":null,"height"===e?"cm":null)}))),r.a.createElement(O,{addToList:e.addToList,state:e.state}),r.a.createElement(I,{meal:e.state.food}),e.state.total?r.a.createElement(F,{total:e.state.total,deltaKcal:e.state.total-t.basalMetabolism.value}):null):r.a.createElement("p",null,"loading...")}}]),t}(r.a.Component),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={profile:{},food:[]},a.addToList=function(e,t){a.setState({food:e,total:t}),d.post("".concat(a.props.match.params.name,"/food"),{data:e}),d.post("".concat(a.props.match.params.name,"/total"),{data:t})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem(this.props.match.params.name);if(e){var t=JSON.parse(e);this.setState({profile:t})}d.post("".concat(this.props.match.params.name,"/profile"),{data:JSON.parse(e)})}},{key:"checkStatus",value:function(){return!!localStorage.getItem(this.props.match.params.name)}},{key:"render",value:function(){return this.checkStatus()?r.a.createElement(k,{profile:this.state.profile,state:this.state,addToList:this.addToList,total:this.total}):r.a.createElement(u.b,{to:"/"},"back to data")}}]),t}(r.a.Component),S=function(e){var t="\xe0\xe1\xe4\xe2\xe3\xe5\u0103\xe6\u0105\xe7\u0107\u010d\u0111\u010f\xe8\xe9\u011b\u0117\xeb\xea\u0119\u011f\u01f5\u1e27\xec\xed\xef\xee\u012f\u0142\u1e3f\u01f9\u0144\u0148\xf1\xf2\xf3\xf6\xf4\u0153\xf8\u1e55\u0155\u0159\xdf\u015f\u015b\u0161\u0219\u0165\u021b\xf9\xfa\xfc\xfb\u01d8\u016f\u0171\u016b\u0173\u1e83\u1e8d\xff\xfd\u017a\u017e\u017c\xb7/_,:;",a=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(a,(function(e){return"aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(t.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},L=function(e){var t=e.weight,a=e.height,n=e.age,r=0;switch(e.gender.value){case"male":r=66+13.7*t.value+5*a.value-6.8*n.value;break;case"female":r=665+9.6*t.value+1.9*a.value-4.7*n.value}return parseInt(r)},P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).nameFromInput=r.a.createRef(),a.weightFromInput=r.a.createRef(),a.genderFromInput=r.a.createRef(),a.ageFromInput=r.a.createRef(),a.heightFromInput=r.a.createRef(),a.getProfileFromLocalStorage=function(){var e="";if(a.nameFromInput.current){e=S(a.nameFromInput.current.value);var t=JSON.parse(localStorage.getItem(e));t&&(a.nameFromInput.current.value=t.name.value,a.weightFromInput.current.value=t.weight.value,a.genderFromInput.current.value=t.gender.value,a.ageFromInput.current.value=t.age.value,a.heightFromInput.current.value=t.height.value)}},a.calculateBasalMetabolism=function(e){e.preventDefault();var t={name:{value:a.nameFromInput.current.value,visibleOnProfile:!1},slug:{value:S(a.nameFromInput.current.value),visibleOnProfile:!1},weight:{value:a.weightFromInput.current.value,visibleOnProfile:!0},gender:{value:a.genderFromInput.current.value,visibleOnProfile:!0},age:{value:a.ageFromInput.current.value,visibleOnProfile:!0},height:{value:a.heightFromInput.current.value,visibleOnProfile:!0},basalMetabolism:{value:0,visibleOnProfile:!0}};t.basalMetabolism.value=L(t),localStorage.setItem(t.slug.value,JSON.stringify(t)),a.props.history.push({pathname:"/counter/".concat(t.slug.value),profile:t})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.getProfileFromLocalStorage(),r.a.createElement("form",{onSubmit:this.calculateBasalMetabolism},r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",name:"name",ref:this.nameFromInput,defaultValue:this.props.location.profile?this.props.location.profile.name.value:"",onChange:this.getProfileFromLocalStorage})),r.a.createElement("br",null),r.a.createElement("label",null,"Gender:",r.a.createElement("select",{ref:this.genderFromInput,defaultValue:this.props.location.profile?this.props.location.profile.gender.value:""},r.a.createElement("option",{value:"male"},"male"),r.a.createElement("option",{value:"female"},"female"))),r.a.createElement("br",null),r.a.createElement("label",null,"age:",r.a.createElement("input",{type:"number",min:"0",name:"age",ref:this.ageFromInput,defaultValue:this.props.location.profile?this.props.location.profile.age.value:""})),r.a.createElement("br",null),r.a.createElement("label",null,"Weight (Kg):",r.a.createElement("input",{type:"number",min:"0",name:"weight",ref:this.weightFromInput,defaultValue:this.props.location.profile?this.props.location.profile.weight.value:""})),r.a.createElement("br",null),r.a.createElement("label",null,"height (cm):",r.a.createElement("input",{type:"number",min:"0",name:"height",ref:this.heightFromInput,defaultValue:this.props.location.profile?this.props.location.profile.height.value:""})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Calculate"))}}]),t}(r.a.Component),C=function(){return r.a.createElement(u.a,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",exact:!0,component:P}),r.a.createElement(c.a,{path:"/counter/:name",component:w})))};o.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.42eeb0b2.chunk.js.map