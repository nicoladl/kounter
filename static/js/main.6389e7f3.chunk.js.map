{"version":3,"sources":["actions/index.js","components/AddMealForm.js","components/Mealitem.js","utils.js","components/MealList.js","components/Happy.js","components/Sad.js","components/ShowTotals.js","components/Profile.js","firebase.js","components/Dashboard.js","components/PersonPicker.js","router/Router.js","reducers/food.js","reducers/profile.js","reducers/index.js","index.js"],"names":["addProfile","profile","type","addFood","food","AddMealForm","dispatch","useDispatch","mealFromInput","React","createRef","kcalFromInput","onSubmit","e","preventDefault","meal","name","current","value","kcal","parseInt","currentTarget","reset","ref","MealItem","props","item","className","slugify","string","a","p","RegExp","split","join","toString","toLowerCase","replace","c","charAt","indexOf","basalMetabolismCalculation","weight","height","age","basalMetabolism","gender","MealList","useSelector","state","map","key","Happy","role","aria-label","Sad","ShowTotals","total","deltaKcal","Profile","userProfile","to","pathname","Object","keys","filter","visibleOnProfile","data-key","firebaseApp","firebase","initializeApp","env","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseConfig","process","base","Rebase","createClass","database","Dashboard","localStorageRef","localStorage","getItem","match","params","JSON","parse","post","data","checkLocalStorage","NamePicker","nameFromInput","weightFromInput","genderFromInput","ageFromInput","heightFromInput","getProfileFromLocalStorage","inputChar","slug","setItem","stringify","history","push","required","defaultValue","location","onChange","min","Router","store","path","exact","component","PersonPicker","action","rootReducer","combineReducers","db","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","getState","fromStore","set","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6389e7f3.chunk.js","sourcesContent":["// Action\nexport const addProfile = (profile) => {\n  return {\n    type: 'ADD_PROFILE',\n    profile\n  }\n}\n\nexport const addFood = (food) => {\n  return {\n    type: 'ADD_FOOD',\n    food\n  }\n}\n","import React from \"react\";\nimport { useDispatch } from 'react-redux'\nimport { addFood } from '../actions'\n\nexport default function AddMealForm() {\n  const dispatch = useDispatch()\n  const mealFromInput = React.createRef();\n  const kcalFromInput = React.createRef();\n\n  const addToList = e => {\n    // stop preventing form\n    e.preventDefault();\n    // add to state\n    const meal = {\n      name: mealFromInput.current.value,\n      kcal: parseInt(kcalFromInput.current.value)\n    };\n\n    // dispatch to Redux\n    dispatch(addFood(meal))\n\n    // refresh the form\n    e.currentTarget.reset();\n  };\n\n  return (\n    <form onSubmit={addToList}>\n      nome <input name=\"meal\" type=\"text\" ref={mealFromInput} />\n      <br />\n      kcal <input name=\"kcal\" type=\"number\" ref={kcalFromInput} />\n      <br />\n      <button type=\"submit\">add</button>\n    </form>\n  );\n}\n","import React from 'react'\n\nexport default function MealItem(props) {\n  const { name, kcal } = props.item\n  return <li>{name} <span className=\"meal-kcal\">{kcal}</span> Kcal</li>\n}\n","export const slugify = string => {\n  const a =\n    \"àáäâãåăæąçćčđďèéěėëêęğǵḧìíïîįłḿǹńňñòóöôœøṕŕřßşśšșťțùúüûǘůűūųẃẍÿýźžż·/_,:;\";\n  const b =\n    \"aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------\";\n  const p = new RegExp(a.split(\"\").join(\"|\"), \"g\");\n\n  return (\n    string\n      .toString()\n      .toLowerCase()\n      .replace(/\\s+/g, \"-\") // Replace spaces with -\n      .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters\n      .replace(/&/g, \"-and-\") // Replace & with 'and'\n      // eslint-disable-next-line\n      .replace(/[^\\w\\-]+/g, \"\") // Remove all non-word characters\n      // eslint-disable-next-line\n      .replace(/\\-\\-+/g, \"-\") // Replace multiple - with single -\n      .replace(/^-+/, \"\") // Trim - from start of text\n      .replace(/-+$/, \"\")\n  ); // Trim - from end of text\n};\n\nexport const basalMetabolismCalculation = ({ weight, height, age, gender }) => {\n  let basalMetabolism = 0;\n  switch (gender.value) {\n    case \"male\": {\n      basalMetabolism =\n        66 + 13.7 * weight.value + 5 * height.value - 6.8 * age.value;\n      break;\n    }\n\n    case \"female\": {\n      basalMetabolism =\n        665 + 9.6 * weight.value + 1.9 * height.value - 4.7 * age.value;\n      break;\n    }\n\n    default:\n      break;\n  }\n\n  return parseInt(basalMetabolism);\n};\n","import React from \"react\";\nimport { useSelector } from 'react-redux'\nimport MealItem from './Mealitem'\nimport { slugify } from '../utils'\n\nexport default function MealList(props) {\n  const meal = useSelector(state => state.food.food)\n  return (\n    <ul className=\"meal-list\">\n      {meal.map(item => {\n        return <MealItem key={slugify(item.name)} item={item} />\n      })}\n    </ul>\n  );\n}\n","import React from \"react\";\n\nconst Happy = () => {\n  return (\n    <span role=\"img\" aria-label=\"happy\">\n      &#128522;\n    </span>\n  );\n};\n\nexport default Happy;\n","import React from \"react\";\n\nconst Sad = () => {\n  return (\n    <span role=\"img\" aria-label=\"Sad\">\n      &#128533;\n    </span>\n  );\n};\n\nexport default Sad;\n","import React from \"react\";\nimport Happy from \"./Happy\";\nimport Sad from \"./Sad\";\n\nexport default function ShowTotals(props) {\n  return (\n    <div className=\"total\">\n      <div className=\"total__partial\">Total in: <span className=\"total-kcal\">{props.total}</span> Kcal</div>\n      <div className=\"total__main\">\n        Total amount of calories:{\" \"}\n        <strong>\n          <span className=\"total-sum\">{props.deltaKcal}</span> Kcal {props.deltaKcal > 0 ? <Sad /> : <Happy />}\n        </strong>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from 'react-redux'\nimport AddMealForm from \"./AddMealForm\";\nimport MealList from \"./MealList\";\nimport ShowTotals from \"./ShowTotals\";\n\nexport default function Profile(props) {\n  // get profile from Store\n  const profile = useSelector(state => state.profile.userProfile)\n  const total = useSelector(state => state.food.total)\n\n  // if component is not ready show loading\n  if (!profile.name) {\n    return <p>loading...</p>;\n  }\n\n  return (\n    <>\n      <h1>Hi {profile.name.value}</h1>\n      <Link to={{ pathname: \"/\", profile: profile }}>edit profile</Link>\n\n      <ul className=\"profile\">\n        {Object.keys(profile)\n          // filter if visibleOnProfile is true\n          .filter(key => profile[key].visibleOnProfile)\n          // iterate through all the items\n          .map(key => {\n            return (\n              // show on profile and add correct unit misure\n              <li\n                key={key}\n                className={key}\n                data-key={profile[key].value}>\n                {key}: {profile[key].value}\n                {key === \"weight\" ? \" kg\" : null}\n                {key === \"height\" ? \" cm\" : null}\n                {key === \"basalMetabolism\" ? \" Kcal\" : null}\n              </li>\n            );\n          })}\n      </ul>\n\n      <AddMealForm />\n      {total > 0 && <MealList />}\n\n      {total > 0 && (\n        <ShowTotals\n          total={total}\n          deltaKcal={total - profile.basalMetabolism.value}\n        />\n      )}\n    </>\n  );\n}\n","import Rebase from \"re-base\";\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = (env) => {\n  switch (env) {\n    case 'development':\n      return {\n        apiKey: \"AIzaSyBnTyxYKxTjdAgY1lTMgBhwmkuQi_cd6UI\",\n        authDomain: \"kounter-dev-e60ff.firebaseapp.com\",\n        databaseURL: \"https://kounter-dev-e60ff.firebaseio.com\",\n        projectId: \"kounter-dev-e60ff\",\n        storageBucket: \"kounter-dev-e60ff.appspot.com\",\n        messagingSenderId: \"178156453221\",\n        appId: \"1:178156453221:web:27575e448e324690b1358c\"\n      }\n    case 'production':\n      return {\n        apiKey: \"AIzaSyBA8Gwx7omYnoSCZujw-35mQPy0PANM51M\",\n        authDomain: \"kounter-92315.firebaseapp.com\",\n        databaseURL: \"https://kounter-92315.firebaseio.com\",\n        projectId: \"kounter-92315\",\n        storageBucket: \"kounter-92315.appspot.com\",\n        messagingSenderId: \"604239372694\",\n        appId: \"1:604239372694:web:2c995aaefdacd98d3abdb7\"\n      }\n  }\n}\n\n// Initialize Firebase\nconst firebaseApp = firebase.initializeApp(firebaseConfig(process.env.NODE_ENV));\n\n//Use Rebase\nconst base = Rebase.createClass(firebaseApp.database());\n\nexport { firebaseApp };\nexport default base;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch } from 'react-redux'\nimport Profile from \"./Profile\";\nimport base from \"../firebase\";\nimport { addProfile } from '../actions'\n\nexport default function Dashboard(props) {\n  const dispatch = useDispatch()\n  const state = {\n    food: []\n  };\n\n  const checkLocalStorage = () => {\n    // if localStorage has item with selected name setState with data\n    const localStorageRef = localStorage.getItem(props.match.params.name);\n    if (localStorageRef) {\n      const localStorage = JSON.parse(localStorageRef);\n\n      // dispatch to Redux\n      dispatch(addProfile(localStorage))\n    }\n\n    // post to database\n    base.post(`${props.match.params.name}/profile`, {\n      data: JSON.parse(localStorageRef)\n    });\n  }\n\n  const checkStatus = () => {\n    const localStorageRef = localStorage.getItem(props.match.params.name);\n    let showProfile = true;\n    // if localStorage exist show Profile else show BackToPicker\n    localStorageRef ? (showProfile = true) : (showProfile = false);\n    return showProfile;\n  }\n\n  checkLocalStorage()\n  if (!checkStatus()) {\n    return (\n      <>\n        <p>data not found</p>\n        <Link to=\"/\">back to data</Link>\n      </>\n    )\n  }\n  return <Profile state={state} />\n}\n","import React from \"react\";\nimport { useDispatch } from 'react-redux'\nimport { addProfile } from '../actions'\nimport { slugify, basalMetabolismCalculation } from \"../utils\";\n\nexport default function NamePicker(props) {\n  const nameFromInput = React.createRef();\n  const weightFromInput = React.createRef();\n  const genderFromInput = React.createRef();\n  const ageFromInput = React.createRef();\n  const heightFromInput = React.createRef();\n  const dispatch = useDispatch()\n\n  const getProfileFromLocalStorage = () => {\n    let inputChar = \"\";\n\n    // detect if input is filled\n    if (nameFromInput.current) {\n      inputChar = slugify(nameFromInput.current.value);\n\n      // get profile from localStorage\n      const profile = JSON.parse(localStorage.getItem(inputChar));\n\n      // update form value\n      if (profile) {\n        nameFromInput.current.value = profile.name.value;\n        weightFromInput.current.value = profile.weight.value;\n        genderFromInput.current.value = profile.gender.value;\n        ageFromInput.current.value = profile.age.value;\n        heightFromInput.current.value = profile.height.value;\n      }\n    }\n  };\n\n  const calculateBasalMetabolism = e => {\n    e.preventDefault(); // block event\n\n    // get input value and store into object\n    const profile = {\n      name: {\n        value: nameFromInput.current.value,\n        visibleOnProfile: false\n      },\n      slug: {\n        value: slugify(nameFromInput.current.value),\n        visibleOnProfile: false\n      },\n      weight: {\n        value: weightFromInput.current.value,\n        visibleOnProfile: true\n      },\n      gender: {\n        value: genderFromInput.current.value,\n        visibleOnProfile: true\n      },\n      age: {\n        value: ageFromInput.current.value,\n        visibleOnProfile: true\n      },\n      height: {\n        value: heightFromInput.current.value,\n        visibleOnProfile: true\n      },\n      basalMetabolism: {\n        value: 0,\n        visibleOnProfile: true\n      }\n    };\n\n    // calculate basal metabolism and update profile obj\n    profile.basalMetabolism.value = basalMetabolismCalculation(profile); // calculation\n\n    // save or update to LocalStorage\n    localStorage.setItem(profile.slug.value, JSON.stringify(profile));\n\n    // go to new route with params profile obj\n    props.history.push({\n      pathname: `/counter/${profile.slug.value}`,\n      profile\n    });\n\n    // dispatch to Redux\n    dispatch(addProfile(profile))\n  };\n\n  getProfileFromLocalStorage();\n  return (\n    <form onSubmit={calculateBasalMetabolism}>\n      <label>\n        Name:\n          <input\n          type=\"text\"\n          name=\"name\"\n          required\n          ref={nameFromInput}\n          defaultValue={\n            props.location.profile\n              ? props.location.profile.name.value\n              : \"\"\n          }\n          onChange={getProfileFromLocalStorage}\n        />\n      </label>\n      <br />\n      <label>\n        Gender:\n          <select\n          name=\"gender\"\n          required\n          ref={genderFromInput}\n          defaultValue={\n            props.location.profile\n              ? props.location.profile.gender.value\n              : \"\"\n          }\n        >\n          <option value=\"male\">male</option>\n          <option value=\"female\">female</option>\n        </select>\n      </label>\n      <br />\n      <label>\n        Age:\n          <input\n          type=\"number\"\n          min=\"0\"\n          name=\"age\"\n          required\n          ref={ageFromInput}\n          defaultValue={\n            props.location.profile\n              ? props.location.profile.age.value\n              : \"\"\n          }\n        />\n      </label>\n      <br />\n      <label>\n        Weight (Kg):\n          <input\n          type=\"number\"\n          min=\"0\"\n          name=\"weight\"\n          required\n          ref={weightFromInput}\n          defaultValue={\n            props.location.profile\n              ? props.location.profile.weight.value\n              : \"\"\n          }\n        />\n      </label>\n      <br />\n      <label>\n        Height (cm):\n          <input\n          type=\"number\"\n          min=\"0\"\n          name=\"height\"\n          required\n          ref={heightFromInput}\n          defaultValue={\n            props.location.profile\n              ? props.location.profile.height.value\n              : \"\"\n          }\n        />\n      </label>\n      <br />\n\n      <button type=\"submit\">Calculate</button>\n    </form>\n  );\n}\n","import React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport Dashboard from \"../components/Dashboard\";\nimport PersonPicker from \"../components/PersonPicker\";\n\nconst Router = (store) => (\n  <HashRouter>\n    <Switch>\n      <Route path=\"/\" exact component={PersonPicker}></Route>\n      <Route path=\"/counter/:name\" component={Dashboard} store={store}></Route>\n    </Switch>\n  </HashRouter>\n);\n\nexport default Router;\n","// FOOD Reducer\nconst food = (state = { food: [], total: 0 }, action) => {\n  switch (action.type) {\n    case 'ADD_FOOD':\n      return {\n        food: [...state.food, action.food],\n        total: state.total + action.food.kcal\n      }\n    default:\n      return state\n  }\n}\n\nexport default food\n","// PROFILE Reducer\nconst profile = (state = {}, action) => {\n  switch (action.type) {\n    case 'ADD_PROFILE':\n      return {\n        ...state,\n        userProfile: action.profile\n      }\n    default:\n      return state\n  }\n}\n\nexport default profile\n","import food from './food'\nimport profile from './profile'\nimport { combineReducers } from 'redux'\n\n// Reducer\nconst rootReducer = combineReducers({ food, profile })\n\nexport default rootReducer\n","import 'react-app-polyfill/ie11'\nimport 'react-app-polyfill/stable'\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Router from \"./router/Router\";\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport rootReducer from './reducers'\nimport firebase from \"firebase/app\";\n\nconst db = firebase.database();\nlet store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\nlet profile = ''\nstore.subscribe(\n  () => {\n    // console.log(store.getState())\n    profile = store.getState().profile.userProfile.name\n    fromStore(store.getState(), db)\n  }\n)\n\n// Function to update the db when store changes\nconst fromStore = (store, db) => {\n  db.ref(`${profile.value}/food/`).set(store.food);\n};\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}