(window.webpackJsonpkounter=window.webpackJsonpkounter||[]).push([[0],{190:function(e,a,t){e.exports=t(405)},405:function(e,a,t){"use strict";t.r(a);t(191),t(200);var l=t(0),n=t.n(l),r=t(90),c=t.n(r),u=t(58),o=t(46),i=t(23),m=function(e){return{type:"ADD_PROFILE",profile:e}},f=function(e){return{type:"ADD_FOOD",food:e}};function p(e){var a=Object(i.b)(),t=n.a.createRef(),l=n.a.createRef();return n.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:t.current.value,kcal:parseInt(l.current.value)};a(f(n)),e.currentTarget.reset()}},"nome ",n.a.createElement("input",{name:"meal",type:"text",ref:t}),n.a.createElement("br",null),"kcal ",n.a.createElement("input",{name:"kcal",type:"number",ref:l}),n.a.createElement("br",null),n.a.createElement("button",{type:"submit"},"add"))}function s(e){var a=Object(i.c)((function(e){return e.food.food}));return n.a.createElement("ul",{className:"meal-list"},a.map((function(e,a){return n.a.createElement("li",{key:a},e.name," ",n.a.createElement("span",{className:"meal-kcal"},e.kcal)," Kcal")})))}var v=function(){return n.a.createElement("span",{role:"img","aria-label":"happy"},"\ud83d\ude0a")},b=function(){return n.a.createElement("span",{role:"img","aria-label":"Sad"},"\ud83d\ude15")};function d(e){return n.a.createElement("div",{className:"total"},n.a.createElement("div",{className:"total__partial"},"Total in: ",n.a.createElement("span",{className:"total-kcal"},e.total)," Kcal"),n.a.createElement("div",{className:"total__main"},"Total amount of calories:"," ",n.a.createElement("strong",null,n.a.createElement("span",{className:"total-sum"},e.deltaKcal)," Kcal ",e.deltaKcal>0?n.a.createElement(b,null):n.a.createElement(v,null))))}function E(e){var a=Object(i.c)((function(e){return e.profile.userProfile})),t=Object(i.c)((function(e){return e.food.total}));return a.name?n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Hi ",a.name.value),n.a.createElement(u.b,{to:{pathname:"/",profile:a}},"edit profile"),n.a.createElement("ul",{className:"profile"},Object.keys(a).filter((function(e){return a[e].visibleOnProfile})).map((function(e){return n.a.createElement("li",{key:e,className:e,"data-key":a[e].value},e,": ",a[e].value,"weight"===e?" kg":null,"height"===e?" cm":null,"basalMetabolism"===e?" Kcal":null)}))),n.a.createElement(p,null),t>0&&n.a.createElement(s,null),t>0&&n.a.createElement(d,{total:t,deltaKcal:t-a.basalMetabolism.value})):n.a.createElement("p",null,"loading...")}var g=t(187),O=t.n(g),h=t(119),y=t.n(h),w=(t(402),y.a.initializeApp({apiKey:"AIzaSyBA8Gwx7omYnoSCZujw-35mQPy0PANM51M",authDomain:"kounter-92315.firebaseapp.com",databaseURL:"https://kounter-92315.firebaseio.com",projectId:"kounter-92315",storageBucket:"kounter-92315.appspot.com",messagingSenderId:"604239372694",appId:"1:604239372694:web:2c995aaefdacd98d3abdb7"})),k=O.a.createClass(w.database());function j(e){var a=Object(i.b)();return function(){var t=localStorage.getItem(e.match.params.name);if(t){var l=JSON.parse(t);a(m(l))}k.post("".concat(e.match.params.name,"/profile"),{data:JSON.parse(t)})}(),localStorage.getItem(e.match.params.name)?n.a.createElement(E,{state:{food:[]}}):n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"data not found"),n.a.createElement(u.b,{to:"/"},"back to data"))}var P=function(e){var a="\xe0\xe1\xe4\xe2\xe3\xe5\u0103\xe6\u0105\xe7\u0107\u010d\u0111\u010f\xe8\xe9\u011b\u0117\xeb\xea\u0119\u011f\u01f5\u1e27\xec\xed\xef\xee\u012f\u0142\u1e3f\u01f9\u0144\u0148\xf1\xf2\xf3\xf6\xf4\u0153\xf8\u1e55\u0155\u0159\xdf\u015f\u015b\u0161\u0219\u0165\u021b\xf9\xfa\xfc\xfb\u01d8\u016f\u0171\u016b\u0173\u1e83\u1e8d\xff\xfd\u017a\u017e\u017c\xb7/_,:;",t=new RegExp(a.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(t,(function(e){return"aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(a.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},D=function(e){var a=e.weight,t=e.height,l=e.age,n=0;switch(e.gender.value){case"male":n=66+13.7*a.value+5*t.value-6.8*l.value;break;case"female":n=665+9.6*a.value+1.9*t.value-4.7*l.value}return parseInt(n)};function S(e){var a=n.a.createRef(),t=n.a.createRef(),l=n.a.createRef(),r=n.a.createRef(),c=n.a.createRef(),u=Object(i.b)(),o=function(){var e="";if(a.current){e=P(a.current.value);var n=JSON.parse(localStorage.getItem(e));n&&(a.current.value=n.name.value,t.current.value=n.weight.value,l.current.value=n.gender.value,r.current.value=n.age.value,c.current.value=n.height.value)}};return o(),n.a.createElement("form",{onSubmit:function(n){n.preventDefault();var o={name:{value:a.current.value,visibleOnProfile:!1},slug:{value:P(a.current.value),visibleOnProfile:!1},weight:{value:t.current.value,visibleOnProfile:!0},gender:{value:l.current.value,visibleOnProfile:!0},age:{value:r.current.value,visibleOnProfile:!0},height:{value:c.current.value,visibleOnProfile:!0},basalMetabolism:{value:0,visibleOnProfile:!0}};o.basalMetabolism.value=D(o),localStorage.setItem(o.slug.value,JSON.stringify(o)),e.history.push({pathname:"/counter/".concat(o.slug.value),profile:o}),u(m(o))}},n.a.createElement("label",null,"Name:",n.a.createElement("input",{type:"text",name:"name",required:!0,ref:a,defaultValue:e.location.profile?e.location.profile.name.value:"",onChange:o})),n.a.createElement("br",null),n.a.createElement("label",null,"Gender:",n.a.createElement("select",{name:"gender",required:!0,ref:l,defaultValue:e.location.profile?e.location.profile.gender.value:""},n.a.createElement("option",{value:"male"},"male"),n.a.createElement("option",{value:"female"},"female"))),n.a.createElement("br",null),n.a.createElement("label",null,"Age:",n.a.createElement("input",{type:"number",min:"0",name:"age",required:!0,ref:r,defaultValue:e.location.profile?e.location.profile.age.value:""})),n.a.createElement("br",null),n.a.createElement("label",null,"Weight (Kg):",n.a.createElement("input",{type:"number",min:"0",name:"weight",required:!0,ref:t,defaultValue:e.location.profile?e.location.profile.weight.value:""})),n.a.createElement("br",null),n.a.createElement("label",null,"Height (cm):",n.a.createElement("input",{type:"number",min:"0",name:"height",required:!0,ref:c,defaultValue:e.location.profile?e.location.profile.height.value:""})),n.a.createElement("br",null),n.a.createElement("button",{type:"submit"},"Calculate"))}var _=function(){return n.a.createElement(u.a,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/",exact:!0,component:S}),n.a.createElement(o.a,{path:"/counter/:name",component:j})))},N=t(57),I=t(189),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{food:[],total:0},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_FOOD":return{food:[].concat(Object(I.a)(e.food),[a.food]),total:e.total+a.food.kcal};default:return e}},A=t(188);function K(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,l)}return t}function x(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?K(t,!0).forEach((function(a){Object(A.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_PROFILE":return x({},e,{userProfile:a.profile});default:return e}},V=Object(N.b)({food:R,profile:T}),F=Object(N.c)(V,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(n.a.createElement(i.a,{store:F},n.a.createElement(_,null)),document.getElementById("root"))}},[[190,1,2]]]);
//# sourceMappingURL=main.7e42eea0.chunk.js.map